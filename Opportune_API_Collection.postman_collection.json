{
	"info": {
		"_postman_id": "opportune-api-collection",
		"name": "Opportune API - Collection Complète",
		"description": "Collection complète de toutes les APIs du backend Opportune",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/health",
							"host": ["{{baseUrl}}"],
							"path": ["api", "health"]
						}
					}
				}
			]
		},
		{
			"name": "Admins",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"login\": \"opporune_yao\",\n  \"password\": \"1ts@fuckingPwd!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admins/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admins", "login"]
						},
						"event": [
							{
								"listen": "test",
								"script": {
									"exec": [
										"if (pm.response.code === 200) {",
										"    var jsonData = pm.response.json();",
										"    if (jsonData.data && jsonData.data.token) {",
										"        pm.collectionVariables.set('token', jsonData.data.token);",
										"    }",
										"}"
									]
								}
							}
						]
					}
				},
				{
					"name": "Créer Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"login\": \"new_admin\",\n  \"password\": \"Secure@123\",\n  \"nom\": \"Dupont\",\n  \"prenom\": \"Jean\",\n  \"email\": \"jean.dupont@example.com\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admins",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admins"]
						}
					}
				},
				{
					"name": "Liste Admins",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admins?isActive=true",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admins"],
							"query": [
								{
									"key": "isActive",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Get Admin by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/admins/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admins", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Update Admin",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nom\": \"Dupont\",\n  \"prenom\": \"Jean\",\n  \"email\": \"jean.dupont@example.com\",\n  \"isActive\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admins/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admins", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Site Categories",
			"item": [
				{
					"name": "Créer Site Category",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Electromenagers\",\n  \"description\": \"Catégorie pour les appareils électroménagers\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/site-categories",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories"]
						}
					}
				},
				{
					"name": "Liste Site Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/site-categories?isActive=true",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories"],
							"query": [
								{
									"key": "isActive",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Get Site Category by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/site-categories/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Electromenagers Organisés",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/site-categories/electromenagers/organized",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories", "electromenagers", "organized"]
						}
					}
				},
				{
					"name": "Update Site Category",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Electromenagers\",\n  \"description\": \"Catégorie mise à jour\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/site-categories/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Delete Site Category",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/site-categories/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Restore Site Category",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/site-categories/:id/restore",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories", ":id", "restore"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Stats Site Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/site-categories/:id/stats",
							"host": ["{{baseUrl}}"],
							"path": ["api", "site-categories", ":id", "stats"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Categories",
			"item": [
				{
					"name": "Créer Category",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Réfrigérateurs\",\n  \"description\": \"Sous-catégorie de réfrigérateurs\",\n  \"idSiteCategory\": \"\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories"]
						}
					}
				},
				{
					"name": "Créer Electro Category",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Réfrigérateurs\",\n  \"description\": \"Sous-catégorie de réfrigérateurs\",\n  \"typeElectro\": \"gros\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories/electro",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "electro"]
						}
					}
				},
				{
					"name": "Liste Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories"]
						}
					}
				},
				{
					"name": "Get Electro Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/electro",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", "electro"]
						}
					}
				},
				{
					"name": "Get Category by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Update Category",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Réfrigérateurs\",\n  \"description\": \"Description mise à jour\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/categories/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Delete Category",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Restore Category",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/:id/restore",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", ":id", "restore"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Stats Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/categories/:id/stats",
							"host": ["{{baseUrl}}"],
							"path": ["api", "categories", ":id", "stats"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Brands (Marques)",
			"item": [
				{
					"name": "Créer Marque",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Samsung\",\n  \"description\": \"Marque coréenne d'électroménager\",\n  \"idSiteCategory\": \"\",\n  \"logo\": \"https://example.com/logo.png\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/brands",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands"]
						}
					}
				},
				{
					"name": "Liste Marques",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/brands?idSiteCategory=&isActive=true",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands"],
							"query": [
								{
									"key": "idSiteCategory",
									"value": "",
									"disabled": true
								},
								{
									"key": "isActive",
									"value": "true"
								}
							]
						}
					}
				},
				{
					"name": "Get Marque by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/brands/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Update Marque",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Samsung\",\n  \"description\": \"Description mise à jour\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/brands/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Delete Marque",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/brands/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Restore Marque",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/brands/:id/restore",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands", ":id", "restore"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Stats Marque",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/brands/:id/stats",
							"host": ["{{baseUrl}}"],
							"path": ["api", "brands", ":id", "stats"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Products (Produits)",
			"item": [
				{
					"name": "Liste Produits",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products?idMarque=&idCategory=&isActive=true&isAvailable=true&minPrice=&maxPrice=",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"],
							"query": [
								{
									"key": "idMarque",
									"value": "",
									"disabled": true
								},
								{
									"key": "idCategory",
									"value": "",
									"disabled": true
								},
								{
									"key": "isActive",
									"value": "true"
								},
								{
									"key": "isAvailable",
									"value": "true"
								},
								{
									"key": "minPrice",
									"value": "",
									"disabled": true
								},
								{
									"key": "maxPrice",
									"value": "",
									"disabled": true
								}
							]
						}
					}
				},
				{
					"name": "Get Produit by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Créer Produit - Base64",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"libelle\": \"Réfrigérateur Samsung 300L\",\n  \"description\": \"Réfrigérateur combiné avec congélateur\",\n  \"quantite_minimale\": 1,\n  \"prix\": 299.99,\n  \"quantite_stock\": 50,\n  \"idMarque\": \"\",\n  \"idCategory\": \"\",\n  \"imagePrincipale\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAoADwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKKKAP//Z\",\n  \"images\": [\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==\"\n  ],\n  \"caracteristiques\": {\n    \"capacite\": \"300L\",\n    \"energie\": \"A++\"\n  },\n  \"isActive\": true,\n  \"isAvailable\": true,\n  \"featured\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/products",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"]
						}
					}
				},
				{
					"name": "Créer Produit - Fichiers",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "libelle",
									"value": "Réfrigérateur Samsung 300L",
									"type": "text"
								},
								{
									"key": "description",
									"value": "Réfrigérateur combiné avec congélateur",
									"type": "text"
								},
								{
									"key": "quantite_minimale",
									"value": "1",
									"type": "text"
								},
								{
									"key": "prix",
									"value": "299.99",
									"type": "text"
								},
								{
									"key": "quantite_stock",
									"value": "50",
									"type": "text"
								},
								{
									"key": "idMarque",
									"value": "",
									"type": "text"
								},
								{
									"key": "idCategory",
									"value": "",
									"type": "text"
								},
								{
									"key": "imagePrincipale",
									"type": "file",
									"src": []
								},
								{
									"key": "images",
									"type": "file",
									"src": []
								},
								{
									"key": "caracteristiques",
									"value": "{\"capacite\":\"300L\",\"energie\":\"A++\"}",
									"type": "text"
								},
								{
									"key": "isActive",
									"value": "true",
									"type": "text"
								},
								{
									"key": "isAvailable",
									"value": "true",
									"type": "text"
								},
								{
									"key": "featured",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/products",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"]
						}
					}
				},
				{
					"name": "Update Produit",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "libelle",
									"value": "Réfrigérateur Samsung 300L - Modifié",
									"type": "text"
								},
								{
									"key": "prix",
									"value": "349.99",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/products/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Delete Produit",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/:id",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", ":id"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Restore Produit",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/:id/restore",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", ":id", "restore"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					}
				},
				{
					"name": "Update Stock",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quantite_stock\": 100,\n  \"operation\": \"set\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/products/:id/stock",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", ":id", "stock"],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						},
						"description": "Opérations possibles: 'set' (définir), 'add' (ajouter), 'subtract' (soustraire)"
					}
				}
			]
		}
	]
}
